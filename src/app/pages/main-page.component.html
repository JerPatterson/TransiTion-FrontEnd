<app-toolbar
    (agencyListClick)="this.agencyListSelected = $event"
    (routeListClick)="this.routeListSelected = $event"
    (stopListClick)="this.stopListSelected = $event"
    (vehicleListClick)="this.vehicleListSelected = $event">
</app-toolbar>

<div class="list-container">
    <app-agency-list
        *ngIf="this.agencyListSelected"
        [selections]="this.agencyIdsSelected"
        [selectAll]="this.selectAllAgenciesOption"
        (addAgencyId)="this.addAgencyId($event)"
        (removeAgencyId)="this.removeAgencyId($event)">
    </app-agency-list>

    <app-route-list
        *ngIf="this.routeListSelected">
    </app-route-list>

    <app-stop-list
        *ngIf="this.stopListSelected">
    </app-stop-list>

    <div
        class="option-container"
        *ngIf="this.agencyListSelected">
        <button
            *ngIf="this.agencyListSelected"
            [ngClass]="this.selectAllAgenciesOption ? 'selected' : ''"
            (click)="this.changeSelectAllAgencies()">
            <svg class="option-icon">
                <use xlink:href='./assets/icons/select-all.svg#select-all' href="./assets/icons/select-all.svg#select-all"></use>
            </svg>
            <span
                class="option-name"
                *ngIf="!this.selectAllAgenciesOption">
                Tout sélectionner
            </span>
        </button>
        <button
            *ngIf="this.agencyIdsSelected.length"
            [ngClass]="this.mergeAgenciesOption ? 'selected' : ''"
            (click)="this.changeMergeAgencies()">
            <svg class="option-icon">
                <use xlink:href='./assets/icons/merge-all.svg#merge-all' href="./assets/icons/merge-all.svg#merge-all"></use>
            </svg>
            <span 
                class="option-name"
                *ngIf="!this.mergeAgenciesOption">
                Fusionner les repères
            </span>
        </button>
    </div>
</div>

<app-map 
    [agencies]="this.agencyIdsSelected"
    [mergeAgencies]="this.mergeAgenciesOption">
</app-map>
